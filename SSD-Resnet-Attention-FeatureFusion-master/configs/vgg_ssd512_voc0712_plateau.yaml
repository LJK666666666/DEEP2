# VGG SSD512 + ReduceLROnPlateau
# Adaptive learning rate based on validation mAP
#
# Usage (must use with --eval_step):
#   python train.py --config-file configs/vgg_ssd512_voc0712_plateau.yaml --eval_step 2500

MODEL:
  NUM_CLASSES: 21
  BACKBONE:
    OUT_CHANNELS: (512, 1024, 512, 256, 256, 256, 256)
  PRIORS:
    FEATURE_MAPS: [64, 32, 16, 8, 4, 2, 1]
    STRIDES: [8, 16, 32, 64, 128, 256, 512]
    MIN_SIZES: [35.84, 76.8, 153.6, 230.4, 307.2, 384.0, 460.8]
    MAX_SIZES: [76.8, 153.6, 230.4, 307.2, 384.0, 460.8, 537.65]
    ASPECT_RATIOS: [[2], [2, 3], [2, 3], [2, 3], [2, 3], [2], [2]]
    BOXES_PER_LOCATION: [4, 6, 6, 6, 6, 4, 4]
INPUT:
  IMAGE_SIZE: 512
DATASETS:
  TRAIN: ("voc_2007_trainval", "voc_2007_test", "voc_2012_trainval", )
  TEST: ("coco_2017_val_voc", )
# DATASETS:
#   TRAIN: ("voc_2007_test", )
#   TEST: ("voc_2007_test", )
SOLVER:
  MAX_ITER: 10000
  BATCH_SIZE: 16
  LR: 0.0001
  # ReduceLROnPlateau config
  LR_SCHEDULER: "ReduceLROnPlateau"
  PLATEAU_PATIENCE: 3
  PLATEAU_FACTOR: 0.3
  PLATEAU_MIN_LR: 1e-6

OUTPUT_DIR: 'outputs/vgg_ssd512_voc0712_plateau_2'
